name: "aws-vpc-routes"
# Canonical GitHub repo
github_repo: "cloudposse-terraform-components/aws-vpc-routes"
# Short description of this project
description: |-
  This component provisions routes in AWS VPC route tables.
  It is commonly used to configure routing between VPCs via Transit Gateways and
  to manage multiple route tables with similar route configurations on a regional basis.
usage: |-
  **Stack Level**: Regional

  Here's a simple example using physical IDs:

  ```yaml
  components:
    terraform:
      vpc/routes/private:
        metadata:
          component: vpc-routes
        vars:
          route_table_ids: ["rtb-0123456789abcdef0", "rtb-0123456789abcdef1"]
          routes:
            - destination:
                cidr_block: "10.100.0.0/16"  # Target VPC CIDR
              target:
                type: transit_gateway_id
                value: "tgw-0123456789abcdef0"
  ```

  The same configuration using terraform outputs:

  ```yaml
  components:
    terraform:
      vpc/routes/private:
        metadata:
          component: vpc-routes
        vars:
          route_table_ids: !terraform.output vpc private_route_table_ids
          routes:
            - destination:
                cidr_block: !terraform.output vpc target-vpc vpc_cidr
              target:
                type: transit_gateway_id
                value: !terraform.output tgw/hub transit_gateway_id
  ```

  ### Multiple Routes Example

  Example using physical IDs:

  ```yaml
  components:
    terraform:
      vpc/routes/private:
        metadata:
          component: vpc-routes
        vars:
          route_table_ids: ["rtb-0123456789abcdef0"]
          routes:
            # Route to network account
            - destination:
                cidr_block: "10.0.0.0/16"
              target:
                type: transit_gateway_id
                value: "tgw-0123456789abcdef0"
            # Route to transit account
            - destination:
                cidr_block: "10.1.0.0/16"
              target:
                type: transit_gateway_id
                value: "tgw-0123456789abcdef0"
  ```

  The same configuration using terraform outputs:

  ```yaml
  components:
    terraform:
      vpc/routes/private:
        metadata:
          component: vpc-routes
        vars:
          route_table_ids: !terraform.output vpc private_route_table_ids
          routes:
            # Route to network account
            - destination:
                cidr_block: !terraform.output vpc network-vpc vpc_cidr
              target:
                type: transit_gateway_id
                value: !terraform.output tgw/hub transit_gateway_id
            # Route to transit account
            - destination:
                cidr_block: !terraform.output vpc transit-vpc vpc_cidr
              target:
                type: transit_gateway_id
                value: !terraform.output tgw/hub transit_gateway_id
  ```

  <!-- prettier-ignore-start -->
  <!-- prettier-ignore-end -->
tags:
  - terraform
  - terraform-modules
  - aws
  - components
  - terraform-components
  - root
  - geodesic
  - reference-implementation
  - reference-architecture
# Categories of this project
categories:
  - component/vpc-routes
  - layer/network
  - provider/aws
  - terraform-components
# License of this project
license: "APACHE2"
# Badges to display
badges:
  - name: "Latest Release"
    image: "https://img.shields.io/github/release/cloudposse-terraform-components/aws-vpc-routes.svg?style=for-the-badge"
    url: "https://github.com/cloudposse-terraform-components/aws-vpc-routes/releases/latest"
  - name: "Slack Community"
    image: "https://slack.cloudposse.com/for-the-badge.svg"
    url: "https://slack.cloudposse.com"
references:
  - name: "AWS VPC Route Tables"
    description: ""
    url: "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Route_Tables.html"
  - name: "Transit Gateway Route Tables"
    description: ""
    url: "https://docs.aws.amazon.com/vpc/latest/tgw/tgw-route-tables.html"
  - name: "cloudposse-terraform-components"
    description: "Cloud Posse's upstream component"
    url: "https://github.com/orgs/cloudposse-terraform-components/repositories"
  - name: "Cloud Posse Documentation"
    description: "Complete documentation for the Cloud Posse solution"
    url: "https://docs.cloudposse.com"
  - name: "Reference Architectures"
    description: "Launch effortlessly with our turnkey reference architectures, built either by your team or ours."
    url: "https://cloudposse.com/"
related:
  - name: "Cloud Posse Terraform Modules"
    description: Our collection of reusable Terraform modules used by our reference architectures.
    url: "https://docs.cloudposse.com/modules/"
  - name: "Atmos"
    description: "Atmos is like docker-compose but for your infrastructure"
    url: "https://atmos.tools"
contributors: [] # If included generates contribs
